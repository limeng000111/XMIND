(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"0rcz":function(e,t,a){var o={"./zh-cn":"EO8f","./zh-cn.js":"EO8f"};function n(e){var t=r(e);return a(t)}function r(e){if(!a.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}n.keys=function(){return Object.keys(o)},n.resolve=r,e.exports=n,n.id="0rcz"},"238S":function(e,t,a){e.exports={dropStyle:"dropStyle",user:"user",dowm:"dowm",userIcon:"userIcon",username:"username",loginCss:"loginCss"}},"8Dty":function(e,t,a){e.exports={contras_card:"contras_card",contras_card_default:"contras_card_default",contras_title:"contras_title","ant-table-thead":"ant-table-thead","ant-table-selection-column":"ant-table-selection-column","ant-table-header-column":"ant-table-header-column",historyBox:"historyBox",box_title:"box_title",title_color:"title_color","ant-card-head":"ant-card-head",title_history:"title_history","ant-card-body":"ant-card-body"}},CzkO:function(e,t,a){"use strict";a.r(t);a("BFtC");var o=a("ZzqE"),n=(a("z7iZ"),a("O4+N")),r=(a("6/yB"),a("SE39")),s=(a("SMEU"),a("xc0u")),c=a("xwgP"),i=a.n(c),l=a("yq+b"),d=a.n(l),u=(a("8Dty"),a("FG+t")),m=a("on7z");d.a.locale("zh-cn");t.default=class extends i.a.Component{constructor(e){super(e),this.getHistoryList=(()=>{Object(m.a)("/backup/getBackupByCaseId",{method:"GET",params:{caseId:this.props.match.params.caseId}}).then(e=>{200===e.code&&this.setState({historyList:e.data})})}),this.contrastClick=(()=>{var e=this.state.rows;this.props.history.push("/caseManager/historyContrast/".concat(e[0].id,"/").concat(e[1].id))}),this.setTableColums=(()=>[{title:"备份ID",dataIndex:"id"},{title:"创建时间",dataIndex:"gmtCreated",render:e=>i.a.createElement("span",null,d()(e).format("YYYY-MM-DD HH:mm:ss"))},{title:"创建人",dataIndex:"creator"}]),this.state={rowKeys:[],rows:[],historyList:[]}}componentDidMount(){this.getHistoryList()}render(){var e={onChange:(e,t)=>{this.setState({rowKeys:e,rows:t})},getCheckboxProps:e=>({disabled:this.state.rowKeys.length>=2&&!this.state.rowKeys.includes(e.id),name:e.name})};return i.a.createElement("section",{style:{marginBottom:30}},i.a.createElement(u.a,null),i.a.createElement(o.a,{bordered:!1,className:this.state.rowKeys.length>=2?"contras_card":"contras_card_default"},i.a.createElement("div",{className:"contras_title"},i.a.createElement(r.a,{placement:"top",title:this.state.rowKeys.length<2?"选择两个版本后，才可以对比哦～":null},i.a.createElement(s.a,{type:"primary",disabled:this.state.rowKeys.length<2,onClick:this.contrastClick},"对比已选择版本"))),i.a.createElement(n.a,{rowKey:"id",rowSelection:e,columns:this.setTableColums(),dataSource:this.state.historyList})))}}},"FG+t":function(e,t,a){"use strict";a("d+vH");var o=a("ijLx"),n=(a("iRon"),a("B0Ox")),r=(a("Mf8d"),a("4OHk")),s=(a("26gd"),a("1GiV")),c=(a("gmoj"),a("IHud")),i=a("xwgP"),l=a.n(i),d=(a("30w7"),a("i2du")),u=a.n(d),m=(a("238S"),a("on7z")),h=c.a.Header,p=u.a.getCookie;t.a=class extends l.a.Component{constructor(){super(...arguments),this.handleDropdownClick=(()=>{Object(m.a)("/user/quit",{method:"POST"}).then(e=>{e&&200===e.code?window.location.href="/login?jumpto=".concat(window.location.href):s.a.error(e.msg)})})}componentDidMount(){p("username")||(window.location.href="/login?jumpto=".concat(window.location.href))}render(){var e=l.a.createElement(n.a,{className:"menu",onClick:this.handleDropdownClick},l.a.createElement(n.a.Item,{key:"logout"},l.a.createElement("span",null,l.a.createElement(r.a,{type:"logout"}),"退出登录")));return p("username")?l.a.createElement(h,{style:{zIndex:9}},l.a.createElement("a",{href:"/",style:{color:"#fff",fontSize:24}},"AgileTC"),p("username")?l.a.createElement(o.a,{overlay:e,overlayClassName:"dropStyle",placement:"bottomLeft"},l.a.createElement("div",{className:"user"},l.a.createElement(r.a,{type:"user",className:"userIcon"}),l.a.createElement("span",{className:"username"},p("username")),l.a.createElement(r.a,{type:"down",className:"dowm"}))):l.a.createElement("a",{href:"/login",className:"loginCss"},"登录/注册")):null}}},i2du:function(e,t){t.getCookie=function(e){for(var t,a,o=e+"=",n=o.length,r=document.cookie.length,s=0,c=0;s<r;){if(c=s+n,document.cookie.substring(s,c)===o)return t=c,a=void 0,-1===(a=document.cookie.indexOf(";",t))&&(a=document.cookie.length),decodeURI(document.cookie.substring(t,a));if(0===(s=document.cookie.indexOf(" ",s)+1))break}return null}},on7z:function(e,t,a){"use strict";a.d(t,"a",function(){return l});a("dmE+");var o=a("SseY"),n=a("mK77"),r=a.n(n),s=a("gq5N"),c=a.n(s);window.apiPrefix="/api",c.a.defaults.timeout=3e5,c.a.defaults.withCredentials=!0;var i={200:"服务器成功返回请求的数据。",201:"新建或修改数据成功。",202:"一个请求已经进入后台排队（异步任务）。",204:"删除数据成功。",400:"发出的请求有错误，服务器没有进行新建或修改数据的操作。",401:"用户没有权限（令牌、用户名、密码错误）。",403:"用户得到授权，但是访问是被禁止的。",404:"发出的请求针对的是不存在的记录，服务器没有进行操作。",406:"请求的格式不可得。",410:"请求的资源被永久删除，且不会再得到的。",422:"当创建一个对象时，发生一个验证错误。",500:"服务器发生错误，请检查服务器。",502:"网关错误。",503:"服务不可用，服务器暂时过载或维护。",504:"网关超时。"};function l(e,t){var a={};if(a.method=void 0!==t?t.method:"get",t&&(t.body&&(a.data="string"==typeof t.body?JSON.parse(t.body):t.body),void 0!==t.params)){for(var n in e+="?",t.params)void 0!==t.params[n]&&""!==t.params[n]&&(e=e+n+"="+t.params[n]+"&");e=e.substring(0,e.length-1)}return c()(r()({url:e},a)).then(e=>{if(401===e.data.code||401===e.code){var t="".concat(e.data.data.login_url,"?app_id=").concat(e.data.data.app_id),a=encodeURIComponent(window.location.href),o="".concat(t,"&version=1.0&jumpto=").concat(a);return window.location.href=o,Promise.reject(new Error("服务不可用，请联系管理员"))}if(99993===e.data.code||99993===e.code){return window.location.href="/login",Promise.reject(new Error("服务不可用，请联系管理员"))}return r()({},e.data)}).catch(e=>{if(e.response){var t=e.response.status,a=i[t]||e.response.statusText;return o.a.error({message:"请求错误 ".concat(t),description:a}),{code:t,message:a}}})}c.a.interceptors.request.use(e=>(e.baseURL=window.apiPrefix,e),e=>Promise.reject(e)),c.a.interceptors.response.use(e=>e,e=>Promise.reject(e))}}]);